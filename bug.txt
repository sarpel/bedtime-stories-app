Web app GUI:
Veritabanına kaydetme başarısız
Masal oluşturuldu ancak kaydedilemedi.

CLI:
[BACKEND] [dotenv@17.2.1] injecting env (20) from .env -- tip: ⚙️  write to custom object with { processEnv: myObject }
[BACKEND] updated_at sütunu zaten mevcut
[BACKEND] FTS tablosu oluşturuldu
[BACKEND] FTS tablosu zaten dolu, toplu doldurma atlandı
[BACKEND] FTS trigger'ları oluşturuldu
[BACKEND] Paylaşım indeksleri oluşturuldu
[BACKEND] Veritabanı başarıyla başlatıldı: D:\MCP\vsCode\bedtime-stories-app\backend\database\stories.db
[BACKEND] updated_at sütunu zaten mevcut
[BACKEND] FTS tablosu oluşturuldu
[BACKEND] FTS tablosu zaten dolu, toplu doldurma atlandı
[BACKEND] FTS trigger'ları oluşturuldu
[BACKEND] Paylaşım indeksleri oluşturuldu
[BACKEND] Veritabanı başarıyla başlatıldı: D:\MCP\vsCode\bedtime-stories-app\backend\database\stories.db
[BACKEND] Backend proxy sunucusu http://localhost:8080 adresinde çalışıyor       
[BACKEND] {"level":50,"time":1756465546853,"pid":47156,"hostname":"Sarpel-PC","msg":"Masalları getirme hatası","error":"storyDb.getAllStories is not a function"} 
[BACKEND] {"level":50,"time":1756465569369,"pid":47156,"hostname":"Sarpel-PC","msg":"Masal oluşturma hatası","error":"storyDb.createStory is not a function"}

Devtools:
client:789 [vite] connecting...
client:912 [vite] connected.
react-dom_client.js?v=aa00e803:17987 Download the React DevTools for a better development experience: https://react.dev/link/react-devtools
content.js:4 content.js: v2.0.3
optimizedDatabaseService.ts:53 [DB] cachedFetch:start Object
optimizedDatabaseService.ts:53 [DB] cachedFetch:start Object
optimizedDatabaseService.ts:66 [DB] cachedFetch:pendingJoin Object
logger.ts:87 [2025-08-29T11:05:46.845Z] [INFO] [APP] Pi Zero 2W monitoring systems initialized 
logger.ts:87 [2025-08-29T11:05:46.845Z] [INFO] [APP] Pi Zero 2W monitoring systems cleaned up 
optimizedDatabaseService.ts:53 [DB] cachedFetch:start Object
optimizedDatabaseService.ts:66 [DB] cachedFetch:pendingJoin Object
optimizedDatabaseService.ts:53 [DB] cachedFetch:start Object
optimizedDatabaseService.ts:66 [DB] cachedFetch:pendingJoin Object
logger.ts:87 [2025-08-29T11:05:46.846Z] [INFO] [APP] Pi Zero 2W monitoring systems initialized 
:5173/api/stories:1  Failed to load resource: the server responded with a status of 500 (Internal Server Error)
optimizedDatabaseService.ts:90 [DB] cachedFetch:response Object
optimizedDatabaseService.ts:108 [DB] cachedFetch:error Object
useFavorites.ts:35 Veritabanı kullanılamıyor, localStorage kullanılıyor: API Error: 500
useFavorites.ts:68 Favoriler senkronize edildi: 0
useStoryDatabase.ts:34 Masalları yükleme hatası: Error: API Error: 500
    at optimizedDatabaseService.ts:93:15
loadStories @ useStoryDatabase.ts:34
useFavorites.ts:35 Veritabanı kullanılamıyor, localStorage kullanılıyor: API Error: 500
useFavorites.ts:68 Favoriler senkronize edildi: 0
useStoryDatabase.ts:34 Masalları yükleme hatası: Error: API Error: 500
    at optimizedDatabaseService.ts:93:15
loadStories @ useStoryDatabase.ts:34
App.tsx:343 [App] generateStory:start Object
logger.ts:87 [2025-08-29T11:05:50.025Z] [DEBUG] [LLMService] LLM Service initialized Object
App.tsx:357 [App] LLMService:created
App.tsx:362 [App] request:prepared Object
App.tsx:366 [App] progress: 10
llmService.ts:92 [LLMService:buildPrompt] Object
App.tsx:366 [App] progress: 30
llmService.ts:139 [LLMService:request:start] Object
App.tsx:366 [App] progress: 70
llmService.ts:171 [LLMService:request:success] {status: 200, durationMs: 19038, keys: Array(4), textLen: 1070}
App.tsx:366 [App] progress: 90
llmService.ts:183 [LLMService:extract] {extractedLen: 1070, isString: true}
App.tsx:366 [App] progress: 100
llmService.ts:191 [LLMService:cacheSet] {storyType: 'unicorn', customTopic: '', length: 1070}
App.tsx:368 [App] response:received {length: 1070}
App.tsx:376 [App] story:set {length: 1070}
App.tsx:381 [App] analytics:storyGeneration:success {duration: 19039}
optimizedDatabaseService.ts:185 OptimizedDatabaseService.createStory called with:
optimizedDatabaseService.ts:186 storyText: string Mira ve Batu, ay ışığının parlaklığıyla ormanda yürürken yumuşak bir kişniş duydular. Önlerinde, tüy...
optimizedDatabaseService.ts:187 storyType: string unicorn
optimizedDatabaseService.ts:188 customTopic: string 
optimizedDatabaseService.ts:197 Request body to send: {
  "storyText": "Mira ve Batu, ay ışığının parlaklığıyla ormanda yürürken yumuşak bir kişniş duydular. Önlerinde, tüyleri gökkuşağı gibi parlayan küçük bir unicorn vardı; adı Yıldıztozu idi. Hornu biraz solgundu ve üzgündü.\n\nMira nazikçe elini uzattı. \"Paylaşmak ister misin?\" diye sordu. Batu küçük bir yıldız çiçeği verdi. Yıldıztozu çiçeği alırken ışığı biraz daha parlak oldu. Üçü birlikte dikkatle gece çiçeklerinden bir sepet topladı. Sabırlı oldular; sessizce yürüdüler, kimseyi rahatsız etmediler.\n\nYıldıztozu, güvenle arkadaşlarına doğru eğildi ve \"Korkarım yanıldım, yolumu kaybettim,\" dedi. Mira dürüstçe \"Beraber ararız,\" dedi. Batu cesaretle öne çıktı. Hep birlikte yolu buldular. Kara bulutlar gelince Mira sabırla bekledi, Batu cesaretle bir mücadele etti, Yıldıztozu ise minnettarlıkla parladı.\n\nSabah yıldızlar şarkı söylerken horn yeniden ışıldadı. Üçü birbirine sarıldı. Mira, Batu ve Yıldıztozu sevgi, paylaşma, dürüstlük, sabır ve cesaretle evlerine döndüler.\n\nŞimdi sen de gözlerini kapat; tatlı rüyalarda unicornlarla birlikte güven ve sevgiyle dolaş. İyi geceler.",
  "storyType": "unicorn",
  "customTopic": "",
  "categories": []
}
optimizedDatabaseService.ts:199 [DB] createStory:request {url: '/api/stories'}
optimizedDatabaseService.ts:200  POST http://localhost:5173/api/stories 500 (Internal Server Error)
createStory @ optimizedDatabaseService.ts:200
createStory @ useStoryDatabase.ts:45
generateStory @ App.tsx:385
useStoryDatabase.ts:51 Masal oluşturma hatası: Error: Story creation failed: 500 - {"error":"Masal oluşturulurken hata oluştu."}
    at OptimizedDatabaseService.createStory (optimizedDatabaseService.ts:208:13)
    at async createStory (useStoryDatabase.ts:45:24)
    at async generateStory (App.tsx:385:19)
createStory @ useStoryDatabase.ts:51
await in createStory
generateStory @ App.tsx:385
App.tsx:395 Veritabanına kaydetme hatası: Error: Story creation failed: 500 - {"error":"Masal oluşturulurken hata oluştu."}
    at OptimizedDatabaseService.createStory (optimizedDatabaseService.ts:208:13)
    at async createStory (useStoryDatabase.ts:45:24)
    at async generateStory (App.tsx:385:19)
generateStory @ App.tsx:395
App.tsx:396 [App] db:createStory:error {message: 'Story creation failed: 500 - {"error":"Masal oluşturulurken hata oluştu."}'}
optimizedDatabaseService.ts:200 Fetch failed loading: POST "http://localhost:5173/api/stories".
createStory @ optimizedDatabaseService.ts:200
createStory @ useStoryDatabase.ts:45
generateStory @ App.tsx:385
App.tsx:433 [App] generateStory:end {totalMs: 19347}
